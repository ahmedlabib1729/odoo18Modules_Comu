<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- قالب البريد الإلكتروني لبيانات البورتال -->
        <record id="email_template_portal_access" model="mail.template">
            <field name="name">Portal Access - Quran Center</field>
            <field name="model_id" ref="model_quran_student"/>
            <field name="subject">بيانات الدخول لبورتال مركز تحفيظ القرآن الكريم</field>
            <field name="email_from">{{ (object.company_id.email or 'noreply@quran-center.com') }}</field>
            <field name="email_to">{{ object.email }}</field>
            <field name="body_html" type="html">
<![CDATA[
<div style="font-family: Arial, sans-serif; direction: rtl; text-align: right;">
    <div style="background-color: #667eea; padding: 20px; text-align: center;">
        <h2 style="color: white; margin: 0;">مركز تحفيظ القرآن الكريم</h2>
    </div>

    <div style="padding: 20px; background-color: #f8f9fa;">
        <p>السلام عليكم ورحمة الله وبركاته</p>

        <p>عزيزي الطالب <strong>{{ object.name_ar }}</strong>،</p>

        <p>يسرنا إبلاغك بأنه تم إنشاء حساب البورتال الخاص بك بنجاح.</p>

        <div style="background-color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h3 style="color: #667eea;">بيانات الدخول:</h3>
            <table style="width: 100%; border-collapse: collapse;">
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>رقم الطالب:</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ object.student_code }}</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>البريد الإلكتروني:</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ object.email }}</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>كلمة المرور:</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ object.id_number }}</td>
                </tr>
            </table>
        </div>

        <p>يمكنك الدخول إلى البورتال من خلال الضغط على الزر التالي:</p>

        <div style="text-align: center; margin: 30px 0;">
            <a href="{{ object.get_base_url() }}/web/login"
               style="background-color: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; display: inline-block;">
                دخول البورتال
            </a>
        </div>

        <div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <p style="margin: 0;"><strong>ملاحظة مهمة:</strong> يُنصح بتغيير كلمة المرور بعد أول دخول للحفاظ على أمان حسابك.</p>
        </div>

        <p>في البورتال يمكنك:</p>
        <ul>
            <li>متابعة جدول الحصص</li>
            <li>عرض سجل الحضور والغياب</li>
            <li>متابعة تقدمك في الحفظ</li>
            <li>عرض التقارير الشهرية</li>
        </ul>

        <p>إذا واجهت أي مشكلة في الدخول، يرجى التواصل معنا.</p>

        <p>وفقك الله وأعانك على حفظ كتابه الكريم</p>

        <p>والسلام عليكم ورحمة الله وبركاته</p>
    </div>

    <div style="background-color: #343a40; color: white; padding: 20px; text-align: center;">
        <p style="margin: 0;">مركز تحفيظ القرآن الكريم</p>
        <p style="margin: 5px 0; font-size: 12px;">هذه رسالة تلقائية، يرجى عدم الرد عليها</p>
    </div>
</div>
]]>
            </field>
        </record>
    </data>
</odoo>