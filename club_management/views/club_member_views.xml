<odoo>
  <!-- Tree view -->
  <record id="view_club_member_tree" model="ir.ui.view">
    <field name="name">club.member.tree</field>
    <field name="model">club.member</field>
    <field name="arch" type="xml">
      <list string="Club Members" decoration-info="state=='draft'" decoration-success="state=='active'" decoration-danger="state=='expired'" decoration-muted="state=='cancelled'">
        <field name="reference"/>
        <field name="name"/>
        <field name="identity_no"/>
        <field name="sport_type_ids" widget="many2many_tags"/>
        <field name="join_date"/>
        <field name="expiry_date"/>
        <field name="state"/>
      </list>
    </field>
  </record>

  <!-- Form view -->
  <record id="view_club_member_form" model="ir.ui.view">
    <field name="name">club.member.form</field>
    <field name="model">club.member</field>
    <field name="arch" type="xml">
      <form string="Club Member">
        <header>
          <button name="action_confirm" string="Activate Membership" type="object"
                  class="oe_highlight" invisible="state != 'draft'"/>
          <button name="action_cancel" string="Cancel" type="object"
                  invisible="state in ('cancelled', 'expired')"/>
          <button name="action_set_to_draft" string="Set to Draft" type="object"
                  invisible="state == 'draft'"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,active,expired,cancelled"/>
        </header>
        <sheet>
          <div class="oe_title">
            <h1>
              <field name="reference" readonly="1"/>
            </h1>
          </div>
          <group>
            <group>
              <field name="name"/>
              <field name="email"/>
              <field name="identity_no"/>
              <field name="sport_type_ids" widget="many2many_tags"/>
            </group>
            <group>
              <field name="nationality_id"/>
              <field name="date_of_birth"/>
              <field name="age" readonly="1"/>
              <field name="join_date"/>
              <field name="expiry_date" readonly="1"/>
            </group>
          </group>
          <notebook>
            <page string="Membership Plans">
              <field name="membership_plan_ids">
                <list>
                  <field name="sport_type_id"/>
                  <field name="name"/>
                  <field name="duration_months"/>
                  <field name="price"/>
                  <field name="currency_id" invisible="1"/>
                </list>
              </field>
            </page>
          </notebook>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Search view -->
  <record id="view_club_member_search" model="ir.ui.view">
    <field name="name">club.member.search</field>
    <field name="model">club.member</field>
    <field name="arch" type="xml">
      <search string="Club Members">
        <field name="reference"/>
        <field name="name"/>
        <field name="identity_no"/>
        <field name="sport_type_ids"/>
        <separator/>
        <filter string="Draft" name="draft" domain="[('state', '=', 'draft')]"/>
        <filter string="Active" name="active" domain="[('state', '=', 'active')]"/>
        <filter string="Expired" name="expired" domain="[('state', '=', 'expired')]"/>
        <filter string="Cancelled" name="cancelled" domain="[('state', '=', 'cancelled')]"/>
        <group expand="0" string="Group By">
          <filter string="Sports" name="group_by_sport" domain="[]" context="{'group_by': 'sport_type_ids'}"/>
          <filter string="Status" name="group_by_state" domain="[]" context="{'group_by': 'state'}"/>
          <filter string="Join Month" name="group_by_month" domain="[]" context="{'group_by': 'join_date:month'}"/>
        </group>
      </search>
    </field>
  </record>
</odoo>